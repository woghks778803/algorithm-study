# 골드4
# 점수따먹기
# X
import sys
input = sys.stdin.readline
x, y = map(int, input().split())
T = [[int(i) for i in input().split()] for _ in range(x)]

# 초기 증가값 저장
DP = [[0 for _ in range(y+1)] for _ in range(x+1)]
for i in range(1, x+1):
    for j in range(1, y+1):
        DP[i][j] = DP[i-1][j] + DP[i][j-1] + T[i-1][j-1] - DP[i-1][j-1]

# 부분행렬 합 구하기
result = -1000000000
for x1 in range(1, x+1):
    for y1 in range(1, y+1):
        for x2 in range(x1, x+1):
            for y2 in range(y1, y+1):
                result = max(result, DP[x2][y2] - DP[x2][y1 - 1] - DP[x1 - 1][y2] + DP[x1 - 1][y1 - 1])

print(result)

    
"""
반례

3 5
2 3 -21 -22 -23
5 6 -22 -23 -25
-22 -23 4 10 2
= 16

4 4
2 3 -21 -22 
5 6 -22 -23 
-22 -23 4 10 
-23 2 25 30
= 69

12 4
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
= 147

60 4
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 -22 
5 16 -22 -23
-22 -23 4 10
-23 2 25 30
2 3 -21 22
2 3 -21 -22 
5 6 -22 -23
-22 23 4 10
-23 2 25 30 
5 6 22 -23
-22 -23 4 10
-23 2 25 30
= 351
"""